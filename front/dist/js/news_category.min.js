function NewCategory(){}NewCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){$.ajax({url:"/cms/add_news_category/",data:{name:t},type:"POST",dataType:"json",success:function(t){200===t.code?(console.log(t),window.location.reload()):xfzalert.alertError(t.message)}})}})})},NewCategory.prototype.listenEditCategoryEvent=function(){$(".edit_btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),a=t.attr("data-name");xfzalert.alertOneInput({title:"请编辑",placeholder:"请输入新分类名称",value:a,confirmCallback:function(t){$.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},type:"post",dataType:"json",success:function(t){if(200===t.code)window.location.reload();else{var e=t.message;if("string"==typeof e||e.constructor==String)xfzalert.alertError(t.message);else for(var a in e){var n=(n=e[a])[0];xfzalert.alertError(n)}}}})}})})},NewCategory.prototype.listenDelCategoryEvent=function(){$(".del_btn").click(function(){var t=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"确定删除吗？",confirmText:"删除",confirmCallback:function(){$.post({url:"/cms/del_news_category/",data:{pk:t},dataType:"json",success:function(t){200===t.code?window.location.reload():xfzalert.alertError(t.message)}})}})})},NewCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDelCategoryEvent()},$(function(){(new NewCategory).run()});