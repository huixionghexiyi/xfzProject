function News(){}News.prototype.listenUploadImgEvent=function(){var o=$("#thumbnail-btn"),t=$("#thumbnail-form");o.change(function(){var n=o[0].files[0],e=new FormData;e.append("file",n),$.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code){var e=n.data.url;t.val(e)}}})})},News.prototype.listenQiniuUploadImgEvent=function(){self=this;var l=$("#thumbnail-btn");$("#thumbnail-form");l.change(function(){$.get({url:"/cms/qn_token/",dataType:"json",success:function(n){if(200===n.code){var e=l[0].files[0],o=n.data.token,t=(new Date).getTime()+"."+e.name.split(".").pop(),i={fname:t,params:{},mimeType:["image/png","image/jpg","image/gif","image/jpeg"]},a={useCdnDomain:!0,retryCount:5,regions:qiniu.region.z2},s={next:function(n){var e=n.total.percent;console.log(e)},error:function(n){console.log(n.message)},complete:function(n){console.log(n)}};qiniu.upload(e,t,o,i,a).subscribe(s)}}})})},News.listenQiniuObserver={next:function(n){var e=n.total.percent;console.log(e)},error:function(n){console.log(n.message)},complete:function(n){console.log(n)}},News.prototype.run=function(){this.listenQiniuUploadImgEvent()},$(function(){(new News).run()});